<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="SSIS, Simple Student Information System" />
    <meta name="description"
          content="SSIS is a simple student information system that can be used to manage students and colleges." />
    <meta keywords="SSIS, Simple Student Information System" />
    <title>
      {% block title %}
      {% endblock title %}
      -  Simple Student Information System
    </title>
    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
            integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8="
            crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Mochiy+Pop+P+One&display=swap"
          rel="stylesheet" />
    <script type="text/javascript"
            src="{{ url_for('static', filename='index.jx') }}"></script>
    <link href="{{ url_for('static',filename='css/main.css') }}"
          rel="stylesheet" />
    <script src="https://kit.fontawesome.com/2bb85d79b4.js"
            crossorigin="anonymous"></script>
  </head>
  <body class="flex min-h-screen">
    <aside class="flex flex-col justify-between w-full max-w-xs border-r shadow-md">
      <ul class="px-4 space-y-4">
        <li class="flex items-center justify-center py-6">
          {% if current_user.is_authenticated %}
            <div class="flex items-center gap-4">
              <img src="{{ url_for('static', filename='uploads/' + current_user.logo) }}"
                   alt="{{ current_user.logo }}"
                   class="w-16 h-16 rounded-full"
                   height="auto"
                   width="auto" />
              <h1 class="text-3xl font-extrabold"
                  style="color: {{ current_user.primary_color }}">{{ current_user.display_name }}</h1>
            </div>
          {% else %}
            <h1 class="text-4xl font-extrabold text-blue-500 font-display">SSIS</h1>
          {% endif %}
        </li>
        {% if current_user.is_authenticated %}
          {% set navigations = [
                      { 'name': 'Home', 'icon': 'fa-house', 'url': url_for('main.dashboard'), 'page': 'home'},
                      { 'name': 'Students', 'icon': 'fa-users', 'url': url_for('student.students'), 'page': 'student'},
                      { 'name': 'Colleges', 'icon': 'fa-building-columns', 'url': url_for('college.colleges'), 'page': 'college'},
                    ] %}
          {% for navigation in navigations %}
            <li class="rounded-lg cursor-pointer hover:bg-gray-100 {{ 'bg-gray-100' if active_page == navigation.page else '' }}">
              <a href="{{ navigation.url }}"
                 class="flex items-center px-6 py-4 space-x-4 text-md {{ 'text-gray-700' if active_page != navigation.page else 'font-semibold' }}"
                 style="{{ 'color: ' + current_user.primary_color if active_page == navigation.page else '' }}">
                <i class="fa-solid {{ navigation.icon }}"></i>
                <p class="font-display">{{ navigation.name }}</p>
              </a>
            </li>
          {% endfor %}
        {% endif %}
        {% if not current_user.is_authenticated %}
          <li class="rounded-lg cursor-pointer hover:bg-gray-100 {{ 'bg-gray-100' if active_page == 'signup' else '' }}">
            <a href="{{ url_for('auth.signup',) }}"
               class="flex items-center px-6 py-4 space-x-4 text-md {{ 'text-blue-500 font-semibold' if active_page == 'signup' else 'text-gray-700' }}">
              <i class="fa-solid fa-right-to-bracket"></i>
              <p class="font-display">Register University</p>
            </a>
          </li>
          <li class="rounded-lg cursor-pointer hover:bg-gray-100 {{ 'bg-gray-100' if active_page == 'login' else '' }}">
            <a href="{{ url_for('auth.login',) }}"
               class="flex items-center px-6 py-4 space-x-4 text-md {{ 'text-blue-500 font-semibold' if active_page == 'login' else 'text-gray-700' }}">
              <i class="fa-solid fa-right-to-bracket"></i>
              <p class="font-display">Login University</p>
            </a>
          </li>
        {% endif %}
      </ul>
      <div class="py-6">
        <ul class="px-4 space-y-4">
          {% if current_user.is_authenticated %}
            <li class="rounded-lg cursor-pointer hover:bg-gray-100">
              <a href="{{ url_for('auth.logout',) }}"
                 class="flex items-center px-6 py-4 space-x-4 text-md text-gray-700 }}">
                <i class="fa-solid fa-right-to-bracket"></i>
                <p class="font-display">Logout</p>
              </a>
            </li>
          {% endif %}
        </ul>
      </div>
    </aside>
    <div class="flex justify-center w-full px-4 py-24 bg-gray-50">
      {% block content %}
      {% endblock content %}
    </div>
  </body>
</html>
