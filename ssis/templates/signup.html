{% extends "layout.html" %}
{% set active_page = "signup" %}
{% block title %}
  Sign Up
{% endblock title %}
{% block content %}
  <div class="flex items-center justify-center w-full max-w-3xl">
    <div class="w-full px-8 py-12 bg-white border rounded-3xl">
      <div class="flex justify-center pb-8">
        <h1 class="text-4xl font-extrabold tracking-tight text-gray-700">University Registration</h1>
      </div>
      <form class="grid grid-cols-2 gap-5"
            method="post"
            enctype="multipart/form-data">
        <div class="flex flex-col items-center col-span-2 gap-4">
          <div id="logo-container"
               class="flex items-center justify-center w-48 h-48 border bg-slate-200 rounded-3xl">
            <i class="text-7xl fa-solid fa-building-columns text-slate-600"></i>
          </div>
          <div class="flex items-center gap-2">
            <input type="file"
                   name="logo"
                   accept="image/png, image/jpeg, image/jpg"
                   class="hidden" />
            <button type="button"
                    id="add-logo"
                    class="px-4 py-2 text-sm font-thin text-white transition duration-500 bg-blue-500 cursor-pointer rounded-xl hover:bg-blue-600">
              Add Logo
            </button>
          </div>
        </div>
        <div class="col-span-2">
          <label class="block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase">Name</label>
          <input class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-blue-500"
                 placeholder="Name"
                 name="name" />
        </div>
        <div class="col-span-2">
          <label class="block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase">Email</label>
          <input class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-blue-500"
                 placeholder="Email"
                 type="email"
                 name="email" />
        </div>
        <div class="col-span-2">
          <label class="block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase">Display Name</label>
          <input class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-blue-500"
                 placeholder="Display Name"
                 name="display_name" />
        </div>
        <div class="col-span-1">
          <label class="block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase">Primary Color</label>
          <div class="relative">
            <input class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-blue-500"
                   placeholder="Primary Color"
                   name="primary_color" />
            <div id="primary-box" class="absolute inset-y-0 flex items-center right-4">
              <div class="w-6 h-6 border rounded-full"></div>
            </div>
          </div>
        </div>
        <div class="col-span-1">
          <label class="block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase">Secondary Color</label>
          <div class="relative">
            <input class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-blue-500"
                   placeholder="Secondary Color"
                   name="secondary_color" />
            <div id="secondary-box"
                 class="absolute inset-y-0 flex items-center right-4">
              <div class="w-6 h-6 border rounded-full"></div>
            </div>
          </div>
        </div>
        <div class="col-span-1">
          <label class="block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase">Password</label>
          <input class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-blue-500"
                 placeholder="Password"
                 type="password"
                 name="password" />
        </div>
        <div class="col-span-1">
          <label class="block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase">Confirm Password</label>
          <input class="w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:border-blue-500"
                 placeholder="Confirm Password"
                 type="password"
                 name="confirm_password" />
        </div>
        <div class="col-span-2 pt-4">
          <button class="w-full px-4 py-3 text-lg font-thin text-white bg-blue-500 rounded-lg">Register University</button>
        </div>
      </form>
    </div>
  </div>
  {% block javascript %}
    <script>
  const addLogo = document.getElementById("add-logo");
  const logoContainer = document.getElementById("logo-container");
  const logo = document.querySelector('input[name="logo"]');

  const primaryColor = document.querySelector('input[name="primary_color"]');
  const primaryBox = document.getElementById("primary-box").firstElementChild;

  primaryColor.addEventListener("change", () => {
    primaryBox.style.backgroundColor = primaryColor.value;
  });
  

  addLogo.addEventListener("click", () => {
    logo.click();
  });

  logo.addEventListener("change", () => {
    const file = logo.files[0];
    const reader = new FileReader();

    reader.addEventListener("load", () => {
      logoContainer.innerHTML = `<img src="${reader.result}" class="object-cover w-full h-full" />`;
      addLogo.innerText = "Change Logo";
    });

    reader.readAsDataURL(file);
  });
  
    </script>
  {% endblock javascript %}
{% endblock content %}
